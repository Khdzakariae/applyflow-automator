// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Ausbildung {
  id                   String  @id @default(cuid())
  title                String
  institution          String
  location             String  @default("N/A")
  startDate            String  @default("N/A") @map("start_date")
  vacancies            String  @default("N/A")
  phones               String // JSON string array
  url                  String  @unique
  description          String  @default("N/A")
  emails               String // JSON string array
  motivationLetterPath String? @map("motivation_letter_path")

  // --- NEW FIELD ADDED ---
  status String @default("Pending") // Tracks application status

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("ausbildung")
}

// --- NEW USER MODEL ADDED ---
model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String   // Store hashed passwords, NEVER plain text!
  name      String?  // Optional name field
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users") // Optional: name your table "users"
}